+++
title = "RAIDについて" # ページタイトル
date = 2025-01-13T00:00:00+09:00
weight = 3
draft = false
categories = ["Server"]
tags = ["Author:DD Erikson", "Level:初級", "Type:Knowledge", "Storage", "RAID"]
+++

## 概要

* RAIDとは  
　主に複数のディスクを一つのディスクにみせかけるための技術
* 主な用途  
　アクセスの高速化やハードウェアであるディスクドライブの冗長化といったメリットを想定します。
* RAIDの種類
  * コントローラーによる種類
    * ソフトウェアRAID・・・汎用ハードウェア（主にCPU）を使用してソフトウェアによって構成されたRAID
      * Intel Rapid Storage TechnologyによるRAID
      * LVMでの実装
      * Windows標準機能での実装
    * ハードウェアRAID・・・専用ハードウェア（ASIC）を使用してハードウェアによって構成されたRAID
      * BROADCOM Megaraid
      * Highpoint Rocket RAID
  * RAID構成による種類
    * JBOD
      * スパニング・スパンボリュームと呼ばれるもので、複数のドライブをつなげて一つのドライブとして扱うものです。
    * RAID0
      * ストライピングと呼ばれるもので、データを分割して2台のドライブに書き込みます。  
      ![RAID0](/img/RAID/RAID0.png)
      * メリット
        * 複数ドライブにブロックレベルで分割して書き込んでいるので、読み込みを行う際は複数ドライブを同時に読み込むことで高速化が図れる。
      * デメリット
        * 所属しているHDDが1台でも故障してしまうと読み込みが不可能になる。
    * RAID1
      * ミラーリングと呼ばれるもので、データをコピーして2台のドライブに書き込みます。RAID1Eであれば複数台のドライブに書き込みもできます。  
      ![RAID1](/img/RAID/RAID1.png)
      * メリット
        * 2台のドライブにデータを複製して書き込むことで、どちらかが故障してももう片方のドライブからデータが読み出せます。
        * 読み込みを行う際、2台のドライブから読み込みを行うことで高速化が図れます。
      * デメリット
        * 実効容量は2分の1になるため容量効率が悪い
    * RAID10
      * ミラーリングとストライピングを組み合わせた形です。4台のドライブを使用することで実現できます。4本以上、2本単位で構成します。  
      ![RAID10](/img/RAID/RAID10.png)
      * メリット
        * 読み込み・書き込みが比較的高速に行えます
        * 2本単位のグループ内で1台故障しても読み込みが可能
        * HDDが多くなれば多くなるほど高速になる
      * デメリット
        * 容量効率が2分の1なので良くない
        * グループ内で2本壊れると読み込みができなくなる
        * 本数が増えると読み込めなくなる組み合わせが多くなるのでやや複雑になる
    * RAID5
      * 分散パリティと呼ばれるものです。3本以上のドライブで構成され、パリティというブロックを各ドライブに分散させて記録することで耐障害性を持ちます。  
      ![RAID5](/img/RAID/RAID5.png)
      * メリット
        * どのドライブでも、1本故障までは読み込み可能
        * 実効容量は構成ドライブ-1本分とRAID10よりも多い
        * 読み込みは高速に行われる
      * デメリット
        * パリティの計算があるのである程度以上の規模になると書き込みが遅くなる
        * 耐障害性が1本までというのは本数が増えてくると気になるところ
    * RAID6
      * 複数分散パリティと呼ばれる仕組み。4本以上のドライブで構成され、パリティを複数用意して分散して書き込むことで耐障害性を持ちます。  
      ![RAID6](/img/RAID/RAID6.png)
      * メリット
        * 2台までどのドライブで故障があっても読み込みが行える
        * 2本まで故障しても読み込みができる
        * 実効容量は構成ドライブ-2本分とRAID5よりは少ないもののRAID10に比べると多い
        * 読み込みは高速に行われる
      * デメリット
        * RAID5以上に書き込み時の計算が多いので本数が増えると書き込み速度が低下する場合がある。
    * RAID01（避けたほうが良い組み合わせ）
      * ストライピングとミラーリングを組み合わせた形です。機能はRAID10とほぼ同じですが、耐障害性の点から使われません。  
      ![RAID01](/img/RAID/RAID01.png)
      * メリット
        * 読み込み・書き込みは高速
        * HDDが多くなれば多くなるほど高速になる
      * デメリット
        * RAID0でグループが作られるので、1台でも故障すれば読み込みができなくなります。